# 🎉 Courses Generator Web App - Установка завершена!

## ✅ Что готово

Мы успешно создали полноценное веб-приложение для управления проектами Wav2Lip с:

- **🔐 Аутентификацией пользователей** (регистрация, вход, личный кабинет)
- **📁 Управлением проектами** (создание, редактирование, мониторинг)
- **📤 Загрузкой файлов** (видео и аудио)
- **⚙️ Интеграцией с Wav2Lip** (запуск обработки)
- **🗄️ PostgreSQL базой данных** (с Docker контейнером)
- **🌐 Современным веб-интерфейсом** (Bootstrap 5, адаптивный дизайн)
- **🔒 Базовой защитой** (хеширование паролей, проверка прав доступа)

## 🚀 Как использовать

### 1. Доступ к приложению

- **Веб-приложение**: http://localhost:5000
- **pgAdmin**: http://localhost:8080 (admin@example.com / admin123)
- **PostgreSQL**: localhost:5432

### 2. Демо аккаунты

- **Администратор**: admin / admin123
- **Обычный пользователь**: зарегистрируйтесь через веб-интерфейс

### 3. Основные функции

#### Для неавторизованных пользователей:
- Просмотр главной страницы
- Регистрация нового аккаунта
- Вход в систему

#### Для авторизованных пользователей:
- **Дашборд** - обзор проектов и статистика
- **Создание проекта** - название, описание
- **Загрузка файлов** - видео и аудио
- **Запуск обработки** - синхронизация Wav2Lip
- **Мониторинг прогресса** - статус задач
- **Скачивание результатов** - готовые файлы

#### Для администраторов:
- **Админ панель** - управление пользователями
- **Просмотр всех проектов** - мониторинг системы
- **Управление задачами** - контроль обработки

## 🏗️ Архитектура системы

```
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   Веб-клиент   │    │   Flask App     │    │   PostgreSQL    │
│   (Browser)     │◄──►│   (Container)   │◄──►│   (Container)   │
│   Port: 5000    │    │   Port: 5000    │    │   Port: 5432    │
└─────────────────┘    └─────────────────┘    └─────────────────┘
                              │
                              ▼
                       ┌─────────────────┐
                       │   pgAdmin      │
                       │   (Container)   │
                       │   Port: 8080   │
                       └─────────────────┘
```

## 🛠️ Технологический стек

### Backend:
- **Flask 2.3.3** - веб-фреймворк
- **SQLAlchemy 3.0.5** - ORM для работы с БД
- **Flask-Login 0.6.3** - аутентификация пользователей
- **Werkzeug 2.3.7** - утилиты (хеширование паролей)
- **Gunicorn 21.2.0** - WSGI сервер

### Frontend:
- **Bootstrap 5** - CSS фреймворк
- **Font Awesome 6.4.0** - иконки
- **jQuery 3.7.1** - JavaScript библиотека

### База данных:
- **PostgreSQL 15** - реляционная БД
- **psycopg2-binary 2.9.7** - драйвер PostgreSQL

### Контейнеризация:
- **Docker 27.5.1** - контейнеризация
- **Docker Compose** - оркестрация контейнеров

## 📁 Структура проекта

```
cursor/
├── webapp/                          # Веб-приложение
│   ├── app.py                      # Основное Flask приложение
│   ├── requirements.txt            # Python зависимости
│   ├── Dockerfile                  # Docker образ
│   ├── start.sh                    # Скрипт запуска
│   ├── templates/                  # HTML шаблоны
│   │   ├── base.html              # Базовый шаблон
│   │   ├── index.html             # Главная страница
│   │   ├── login.html             # Страница входа
│   │   ├── register.html          # Страница регистрации
│   │   ├── dashboard.html         # Дашборд пользователя
│   │   └── README.md              # Документация
│   └── static/                     # Статические файлы
├── docker-compose.yml              # Конфигурация Docker Compose
├── Dockerfile                      # PostgreSQL контейнер
├── init.sql                        # Инициализация БД
├── setup.sh                        # Настройка PostgreSQL
├── database_client.py              # Клиент для работы с БД
├── build_and_run.sh                # Скрипт сборки и запуска
└── README.md                       # Основная документация
```

## 🔧 Управление системой

### Запуск всех сервисов:
```bash
sudo docker-compose up -d
```

### Остановка всех сервисов:
```bash
sudo docker-compose down
```

### Просмотр логов:
```bash
# Все сервисы
sudo docker-compose logs

# Конкретный сервис
sudo docker-compose logs webapp
sudo docker-compose logs postgres
sudo docker-compose logs pgadmin
```

### Проверка статуса:
```bash
sudo docker-compose ps
```

### Пересборка веб-приложения:
```bash
sudo docker-compose build webapp
sudo docker-compose up -d webapp
```

## 🎯 Следующие шаги

### 1. Тестирование функционала:
- Зарегистрируйте нового пользователя
- Создайте тестовый проект
- Загрузите видео и аудио файлы
- Запустите обработку

### 2. Интеграция с Wav2Lip:
- Подключите существующий код Wav2Lip
- Настройте обработку файлов
- Добавьте мониторинг прогресса

### 3. Улучшения безопасности:
- Настройка HTTPS
- Rate limiting
- Логирование действий
- Резервное копирование БД

### 4. Масштабирование:
- Добавление Redis для кэширования
- Настройка балансировщика нагрузки
- Мониторинг производительности

## 🚨 Устранение неполадок

### Проблема: Веб-приложение не запускается
**Решение**: Проверьте логи `sudo docker-compose logs webapp`

### Проблема: Ошибка подключения к БД
**Решение**: Убедитесь, что PostgreSQL контейнер запущен и здоров

### Проблема: Страницы не загружаются
**Решение**: Проверьте, что контейнер webapp работает на порту 5000

### Проблема: Ошибки с правами доступа
**Решение**: Используйте `sudo` для Docker команд или добавьте пользователя в группу docker

## 📊 Мониторинг

### Проверка здоровья системы:
```bash
# Веб-приложение
curl -f http://localhost:5000/

# База данных
sudo docker exec courses_postgres pg_isready -U courses_user -d courses_db

# pgAdmin
curl -f http://localhost:8080/
```

### Полезные команды:
```bash
# Использование диска
sudo docker system df

# Очистка неиспользуемых ресурсов
sudo docker system prune -a

# Просмотр сетей
sudo docker network ls
```

## 🎉 Поздравляем!

Вы успешно создали полноценное веб-приложение для управления проектами Wav2Lip! 

**Основные достижения:**
- ✅ Веб-интерфейс с аутентификацией
- ✅ Управление проектами и файлами
- ✅ Интеграция с PostgreSQL
- ✅ Docker контейнеризация
- ✅ Современный дизайн
- ✅ Базовая безопасность

**Готово к использованию!** 🚀

---

**Courses Generator Web App** - профессиональная платформа для синхронизации видео и аудио! 🎥🎵
